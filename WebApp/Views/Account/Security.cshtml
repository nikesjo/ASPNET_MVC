@model AccountSecurityViewModel
@{
    ViewData["Title"] = "Security";
}

<section id="account-security">
    <div class="container">
        @* <partial name="~/Views/Shared/Partials/_AsidePartial.cshtml" /> *@
        <aside>
            <div class="profile">
                <img src="@Model.AccountDetailsInfo?.ProfileInfo?.ProfileImageUrl" alt="@($"{Model.AccountDetailsInfo?.ProfileInfo?.FirstName} {Model.AccountDetailsInfo?.ProfileInfo?.LastName}")">
                <a class="btn-refresh" href="#"><i class="fa-sharp fa-regular fa-arrows-rotate"></i></a>
                <h5>@($"{Model.AccountDetailsInfo?.ProfileInfo?.FirstName} {Model.AccountDetailsInfo?.ProfileInfo?.LastName}")</h5>
                <p>@Model.AccountDetailsInfo?.ProfileInfo?.Email</p>
            </div>

            <nav>
                <a class="btn-transparent" asp-controller="Account" asp-action="Details"><i class="fa-regular fa-gear"></i><span>Account Details</span></a>
                <a class="btn-theme-s" asp-controller="Account" asp-action="Security"><i class="fa-regular fa-lock"></i><span>Security</span></a>
                <a class="btn-transparent" asp-controller="Account" asp-action="SavedCourses"><i class="fa-regular fa-bookmark"></i><span>Saved Courses</span></a>
                <a class="btn-transparent" asp-controller="Auth" asp-action="SignOut"><i class="fa-solid fa-right-from-bracket"></i><span>Sign Out</span></a>
            </nav>
        </aside>
        <div class="security-preview">
            <h2>Security</h2>
            <form method="post" asp-controller="Account" asp-action="Security" id="securityChanges" class="row g-4" novalidate>
                <h5>Password</h5>
                <div class="col-12">
                    <div class="col-lg-6">
                        <label class="form-label" asp-for=NewPassword></label>
                        <span asp-validation-for="NewPassword"></span>
                        <input class="form-control" asp-for="NewPassword" />
                    </div>
                </div>

                <div class="col-lg-6">
                    <label class="form-label" asp-for=CurrentPassword></label>
                    <span asp-validation-for="CurrentPassword"></span>
                    <input class="form-control" asp-for="CurrentPassword" />
                </div>
                <div class="col-lg-6">
                    <label class="form-label" asp-for=ConfirmNewPassword></label>
                    <span asp-validation-for="ConfirmNewPassword"></span>
                    <input class="form-control" asp-for="ConfirmNewPassword" />
                </div>

                <div class="col-auto">
                    <button type="reset" class="btn-gray">Cancel</button>
                </div>
                <div class="col-auto">
                    <button type="submit" class="btn-theme">Save Changes</button>
                </div>
            </form>


            <form method="post" asp-controller="Account" asp-action="DeleteAccount" id="deleteAccount" class="row g-4" novalidate>
                <h5>Delete account</h5>
                <p>When you delete your account, your public profile will be deactivated immediately. If you change your mind before the 14 days are up, sign in with your email and password, and we’ll send you a link to reactivate your account.</p>

                <div class="form-check">
                    <input class="form-check-input" asp-for="DeleteAccount" />
                    <label class="form-check-label" asp-for=DeleteAccount></label>
                </div>

                <div class="col-auto">
                    <button type="submit" class="btn-red">Delete</button>
                </div>
            </form>
        </div>

    </div>
</section>

@await Html.PartialAsync("_ValidationScriptPartial")