@model AccountDetailsViewModel
@{
    ViewData["Title"] = $"{Model.ProfileInfo?.FirstName} {Model.ProfileInfo?.LastName}'s profile";
}

<section id="account-details">
    <div class="container">
        <aside class="account-menu">
            <partial name="~/Views/Shared/Partials/_AsidePartial.cshtml" />
        </aside>
        <div class="details-preview">
            <partial name="~/Views/Shared/Partials/_StatusMessagePartial.cshtml" />
            <h2>Account Details</h2>
            <form method="post" asp-controller="Account" asp-action="Details" id="infoChanges" class="row g-4" novalidate>
                <h5>Basic Info</h5>
                <div class="col-xl-6">
                    <label class="form-label" asp-for=BasicInfo!.FirstName></label>
                    @if (Model.ProfileInfo!.IsExternalAccount)
                    {
                        <input class="form-control" asp-for="BasicInfo!.FirstName" disabled />
                    }
                    else
                    {
                        <span asp-validation-for="BasicInfo!.FirstName"></span>
                        <input class="form-control" asp-for="BasicInfo!.FirstName" />
                    }
                </div>

                <div class="col-xl-6">
                    <label class="form-label" asp-for=BasicInfo!.LastName></label>
                    @if (Model.ProfileInfo.IsExternalAccount)
                    {
                        <input class="form-control" asp-for="BasicInfo!.LastName" disabled />
                    }
                    else
                    {
                        <span asp-validation-for="BasicInfo!.LastName"></span>
                        <input class="form-control" asp-for="BasicInfo!.LastName" />
                    }
                </div>

                <div class="col-xl-6">
                    <label class="form-label" asp-for=BasicInfo!.Email></label>
                    @if (Model.ProfileInfo.IsExternalAccount)
                    {
                        <input class="form-control" asp-for="BasicInfo!.Email" disabled />
                    }
                    else
                    {
                        <span asp-validation-for="BasicInfo!.Email"></span>
                        <input class="form-control" asp-for="BasicInfo!.Email" />
                    }
                </div>

                <div class="col-xl-6">
                    <label class="form-label" asp-for=BasicInfo!.Phone></label>
                    <span asp-validation-for="BasicInfo!.Phone"></span>
                    <input class="form-control" asp-for="BasicInfo!.Phone" />
                </div>

                <div class="col-12">
                    <label class="form-label" asp-for=BasicInfo!.Biography>Bio <span>(optional)</span></label>
                    <textarea class="form-control" asp-for="BasicInfo!.Biography" cols="30" rows="5"></textarea>
                </div>


                <div class="col-auto">
                    <button type="reset" class="btn-gray">Cancel</button>
                </div>
                <div class="col-auto">
                    <button type="submit" class="btn-theme">Save Changes</button>
                </div>
            </form>

            <form method="post" asp-controller="Account" asp-action="Details" id="addressChanges" class="row g-4" novalidate>
                <h5>Address</h5>
                <div class="col-12">
                    <label class="form-label" asp-for=AddressInfo!.Addressline_1></label>
                    <span asp-validation-for="AddressInfo!.Addressline_1"></span>
                    <input class="form-control" asp-for="AddressInfo!.Addressline_1" />
                </div>

                <div class="col-12">
                    <label class="form-label" asp-for=AddressInfo!.Addressline_2>Address line 2 <span>(optional)</span></label>
                    <span asp-validation-for="AddressInfo!.Addressline_2"></span>
                    <input class="form-control" asp-for="AddressInfo!.Addressline_2" />
                </div>

                <div class="col-xl-6">
                    <label class="form-label" asp-for=AddressInfo!.PostalCode></label>
                    <span asp-validation-for="AddressInfo!.PostalCode"></span>
                    <input class="form-control" asp-for="AddressInfo!.PostalCode" />
                </div>

                <div class="col-xl-6">
                    <label class="form-label" asp-for=AddressInfo!.City></label>
                    <span asp-validation-for="AddressInfo!.City"></span>
                    <input class="form-control" asp-for="AddressInfo!.City" />
                </div>

                <div class="col-auto">
                    <button type="reset" class="btn-gray">Cancel</button>
                </div>
                <div class="col-auto">
                    <button type="submit" class="btn-theme">Save Changes</button>
                </div>
            </form>
        </div>
    </div>
</section>


@await Html.PartialAsync("_ValidationScriptPartial")